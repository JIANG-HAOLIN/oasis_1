
CommandNotFoundError: Your shell has not been properly configured to use 'conda activate'.
To initialize your shell, run

    $ conda init <SHELL_NAME>

Currently supported shells are:
  - bash
  - fish
  - tcsh
  - xonsh
  - zsh
  - powershell

See 'conda init --help' for more information and options.

IMPORTANT: You may need to close and restart your shell after running 'conda init'.


/usrhomes/s1434/anaconda3/envs/myenv/lib/python3.8/site-packages/torchvision/models/inception.py:81: FutureWarning: The default weight initialization of inception_v3 will be changed in future releases of torchvision. If you wish to keep the old behavior (which leads to long initialization times due to scipy/scipy#11299), please set init_weights=True.
  warnings.warn('The default weight initialization of inception_v3 will be changed in future releases of '
/usrhomes/s1434/anaconda3/envs/myenv/lib/python3.8/site-packages/torchvision/transforms/functional.py:404: UserWarning: Argument interpolation should be of type InterpolationMode instead of int. Please, use InterpolationMode enum.
  warnings.warn(
/usrhomes/s1434/anaconda3/envs/myenv/lib/python3.8/site-packages/torch/nn/functional.py:4003: UserWarning: Default grid_sample and affine_grid behavior has changed to align_corners=False since 1.3.0. Please specify align_corners=True if the old behavior is desired. See the documentation of grid_sample for details.
  warnings.warn(
----------------- Options ---------------
            Du_patch_size: None                          
                EMA_decay: 0.999                         
            add_edge_loss: False                         
                add_edges: False                         
             add_vgg_loss: False                         
               batch_size: 1                             
                    beta1: 0.0                           
                    beta2: 0.999                         
             bicycle_loss: 0                             
               channels_D: 64                            
               channels_G: 64                            
          checkpoints_dir: ./checkpoints                 
                ckpt_iter: best                          
           continue_train: False                         
                 dataroot: /data/public/cityscapes       
             dataset_mode: cityscapes                    
    feature_matching_type: 0                             
                 freq_fid: 2500                          
               freq_print: 1000                          
           freq_save_ckpt: 20000                         
         freq_save_latest: 10000                         
           freq_save_loss: 2500                          
         freq_smooth_loss: 250                           
                  gpu_ids: 0                             
              lambda_edge: 1                             
          lambda_labelmix: 5.0                           
           lambda_segment: 1                             
               lambda_vgg: 10.0                          
       loaded_latest_iter: 0                             	[default: None]
                     lr_d: 0.0004                        
                     lr_g: 0.0004                        
             mixed_images: False                         
        model_supervision: 2                             
                     name: oasis_cityscapes              
                    netDu:                               
                     netG: 1                             
               no_3dnoise: False                         
                   no_EMA: False                         
      no_balancing_inloss: False                         
                  no_flip: False                         
              no_labelmix: False                         
                 no_netDu: False                         
         no_spectral_norm: False                         
               num_epochs: 500                           	[default: 200]
           num_res_blocks: 6                             
          param_free_norm: syncbatch                     
                    phase: train                         
      progressive_growing: False                         
                reg_every: 4                             
              results_dir: ./results/                    
                     seed: 42                            
                 spade_ks: 3                             
           supervised_num: 50                            
               which_iter: latest                        
                    z_dim: 64                            
----------------- End -------------------
nb of gpus:  1
5
Created CityscapesDataset, size train: 2975, size val: 500
--- Now computing Inception activations for real set ---
--- Finished FID stats for real set ---
Created ImplicitGenerator with 1536 parameters
Created OASIS_Discriminator with 22251364 parameters
epoch 0
batch 0
cuda:0
cuda:0
0
cuda:0 cuda:0 cuda:0 cuda:0 cuda:0
1
cuda:0 cuda:0 cuda:0 cuda:0 cuda:0
2
cuda:0 cuda:0 cuda:0 cuda:0 cuda:0
3
cuda:0 cuda:0 cuda:0 cuda:0 cuda:0
4
cuda:0 cuda:0 cuda:0 cuda:0 cuda:0
5
cuda:0 cuda:0 cuda:0 cuda:0 cuda:0
6
cuda:0 cuda:0 cuda:0 cuda:0 cuda:0
7
cuda:0 cuda:0 cuda:0 cuda:0 cuda:0
8
cuda:0 cuda:0 cuda:0 cuda:0 cuda:0
9
cuda:0 cuda:0 cuda:0 cuda:0 cuda:0
10
cuda:0 cuda:0 cuda:0 cuda:0 cuda:0
11
cuda:0 cuda:0 cuda:0 cuda:0 cuda:0
12
cuda:0 cuda:0 cuda:0 cuda:0 cuda:0
13
cuda:0 cuda:0 cuda:0 cuda:0 cuda:0
14
cuda:0 cuda:0 cuda:0 cuda:0 cuda:0
15
cuda:0 cuda:0 cuda:0 cuda:0 cuda:0
16
cuda:0 cuda:0 cuda:0 cuda:0 cuda:0
17
cuda:0 cuda:0 cuda:0 cuda:0 cuda:0
Traceback (most recent call last):
  File "train_supervised.py", line 113, in <module>
    loss_G, losses_G_list = model(image=image,
  File "/usrhomes/s1434/anaconda3/envs/myenv/lib/python3.8/site-packages/torch/nn/modules/module.py", line 1102, in _call_impl
    return forward_call(*input, **kwargs)
  File "/usrhomes/s1434/anaconda3/envs/myenv/lib/python3.8/site-packages/torch/nn/parallel/data_parallel.py", line 166, in forward
    return self.module(*inputs[0], **kwargs[0])
  File "/usrhomes/s1434/anaconda3/envs/myenv/lib/python3.8/site-packages/torch/nn/modules/module.py", line 1102, in _call_impl
    return forward_call(*input, **kwargs)
  File "/misc/no_backups/s1434/OASIS-CIPS_test/models/models.py", line 58, in forward
    fake,_ = self.netG(
  File "/usrhomes/s1434/anaconda3/envs/myenv/lib/python3.8/site-packages/torch/nn/modules/module.py", line 1102, in _call_impl
    return forward_call(*input, **kwargs)
  File "/misc/no_backups/s1434/OASIS-CIPS_test/models/generator.py", line 276, in forward
    x = self.conv1(x, latent,label_class_dict=label_class_dict,label=label)
  File "/usrhomes/s1434/anaconda3/envs/myenv/lib/python3.8/site-packages/torch/nn/modules/module.py", line 1102, in _call_impl
    return forward_call(*input, **kwargs)
  File "/misc/no_backups/s1434/OASIS-CIPS_test/models/blocks.py", line 462, in forward
    out = self.conv(input, style,label_class_dict=label_class_dict,label=label)
  File "/usrhomes/s1434/anaconda3/envs/myenv/lib/python3.8/site-packages/torch/nn/modules/module.py", line 1102, in _call_impl
    return forward_call(*input, **kwargs)
  File "/misc/no_backups/s1434/OASIS-CIPS_test/models/blocks.py", line 372, in forward
    out = out + F.conv2d(input.double().cuda(0), weight.double().cuda(0), padding=self.padding, groups=batch)
RuntimeError: CUDA out of memory. Tried to allocate 512.00 MiB (GPU 0; 23.69 GiB total capacity; 21.48 GiB already allocated; 2.06 MiB free; 21.58 GiB reserved in total by PyTorch) If reserved memory is >> allocated memory try setting max_split_size_mb to avoid fragmentation.  See documentation for Memory Management and PYTORCH_CUDA_ALLOC_CONF
